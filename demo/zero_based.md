---
title: 零基础入门
lang: zh-CN
---

# 零基础入门

> 本文的目的是从0开始到入门。如果你已经理解了地图工坊是怎么回事了，那么本文可能对你帮助并不大

我们先用几个问题来“揭开”​地图工坊神秘的“面纱”:

* 地图工坊是什么？它是一个功能更多的自定义模式。
* 地图工坊能做什么？现阶段，它可以做一些很有意思的玩法，相信你已经体验过地图工坊的作品了。
* 地图工坊不能做什么？它不能脱离游戏的基本框架，例如OW限制了只能有12个玩家，地图工坊并不能让你的房间能塞更多人。现阶段它也不能替换模型，不能改变地形。
* 地图工坊在哪里？它不难找，新建一个自定义房间，打开设置，你就会发现一个大大的“地图工坊”按钮。地图工坊所有的设置就在这里面了。

## 什么是规则

地图工坊是由很多条“规则”组成的。规则是什么？你可以把它看做是一条一条的“条例”。当“规则”该被运行的时候，它就会被运行。

举个例子：在生活中，如果你上班迟到了，那么老板就会扣你工资。当你早上闹铃响了，那么你就应该起床了。这些都是生活中的“规则”。

规则由三个部分组成：事件，条件和动作。还是上面的例子，当你上班迟到，并且今天不是休息日的话，那么老板就会扣你工资。这条“规则”中，“上班迟到”是事件，“今天不是休息日”是条件，“扣工资”则是动作。

那在游戏里怎么体现呢？例如，我们知道，DVA的核爆会对一定范围内的敌人造成伤害，那么，“机甲爆炸”是事件，“玩家在爆炸范围内，且玩家和DVA是敌对关系”是条件，“造成伤害”则是动作。（PS：这里只是用“机甲爆炸”举例子，让你明白事件、条件、动作之间的关系）

总而言之，规则即是：**当某件事（事件）发生，且条件满足时，就做一些动作。**

## 编写规则

相信你已经知道“规则”是什么了，那么，接下来，我们就通过“规则”做一件简单的事：让玩家每次受伤时，回复10生命值。

过程其实很简单：玩家受伤→回血。那么相应的规则应该是什么样？

通过翻阅事件列表，我们发现有一个事件刚好合适：玩家受到伤害。那么我们就用它作为事件了。

我们并没有什么特别的要求，所以不需要“条件”。

动作是给玩家回血。我们应该用什么动作？通过翻阅文档，我们发现了一个“治疗”的动作。它需要选择几个东西：

* 玩家
* 治疗者
* 治疗量

“玩家”就是这个动作的目标，即给谁治疗。我们怎么让游戏知道，治疗的目标是受伤的玩家呢？我们可以使用“事件玩家”。顾名思义，“事件玩家”指的是触发事件的玩家。我们在上面使用了“玩家受到伤害”事件，那么，在这里“事件玩家”指的就是受到伤害的那个玩家。类似的，如果我们使用“玩家阵亡”作为事件，那么就可以用“事件玩家”来代指阵亡的那个玩家。

在本例中，治疗者是谁并不重要，所以我们选择“无”就行了。

最后，我们设定的治疗量是10点，所以我们选择“数字”，然后输入10。

## 变量

没接触过编程的朋友可能会觉得这个东西有一些难以理解。但它并没有想象中那么难。我们可以用数学来理解它。

例如我们有一个等式：y=x+1。在数学上，我们把x叫做自变量：当我们放入不同的x时，y就不一样。我们的“方程”只是定义了一个从x到y的过程。

在我们上面的例子中，我们有一条动作：给事件玩家治疗10点生命值。这里面，“事件玩家”是一个变量——因为触发事件的玩家可以有很多个。过程是给玩家治疗。而10我们一般把它叫做“常量”——因为它不会变，无论是哪个玩家受伤了，治疗量都是10。

当然了，这只是变量最基本的概念。其实变量就像一个“盒子”，我们可以把东西放进去，也可以把里面的东西拿出来。

在OW中，变量和常量统称叫“值”。

## 实现“冰冻弹”

现在我们来写一点更复杂的规则。我们希望让麦克雷的子弹变成“冰冻弹”——被麦克雷打中的玩家，就会被冰冻住1秒。

同样的，我们先想一想过程：玩家被麦克雷打中→把玩家冻住。

我们发现“事件”并没有“被麦克雷打中”的事件。怎么办？这时候就该让“条件”出马了。被麦克雷打是受到伤害的一种，所以“事件”我们可以继续用“玩家受到伤害”。但是我们有一个附加条件：伤害的来源应该是一名麦克雷玩家。

我们翻阅文档，找到“攻击方”可以代指伤害来源。但我们应该直接拿它来做比较吗？仔细想想，“玩家使用的是麦克雷”比较的应该是英雄，而不是玩家。因此，我们继续找找怎么知道玩家用的什么英雄。最后，我们找到了“英雄”这个选项。条件便是：英雄(攻击方) == 英雄(麦克雷)

动作应该是什么？“冰冻”是官方提供的状态之一，我们可以直接使用“设置状态”。

* 玩家
* 助攻者
* 状态
* 持续时间

“玩家”和上面一样，使用“事件玩家”即可。助攻者即为“攻击方”。状态是“冻结”。“持续时间”输入“1”。

## 未完待续