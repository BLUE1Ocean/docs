---
title: 常见功能
lang: zh-CN
---

# 常见功能

## 倒计时

倒计时有两种方式，一种是使用“追踪变量”，另一种则是手动等待。一般情况下，推荐使用前者。如果有特殊需要，则使用后者。下面的例子中，均使用变量A作为倒计时，假设倒计时为30秒。

方式一：

* 事件：持续 - 全局
* 动作：
	* 设置全局变量(A, 30)
	* 追踪全局变量频率(A, 0, 1, 无)

* 事件：持续 - 全局
* 条件：全局变量(A) == 0
* 动作：// 倒计时结束的动作

方式二（你可以在循环前的任意位置做一些别的事）：

* 事件：持续 - 全局
* 动作：设置全局变量(A, 30)

* 事件：持续 - 全局
* 条件：全局变量(A) > 0
* 动作：
	* 等待(1.000, 无视条件)
	* 修改全局变量(A, 减, 1)
	* 如条件为"真"则循环
	* // 倒计时结束的动作


如果是针对每个玩家单独计时，则将相应的事件和变量修改即可，例如：

* 事件：持续 - 每名玩家
* 动作：
	* 设置玩家变量(事件玩家, A, 30)
	* 追踪玩家变量频率(事件玩家, A, 0, 1, 无)

* 事件：持续 - 每名玩家
* 条件：玩家变量(事件玩家, A) == 0
* 动作：// 倒计时结束的动作

## 创建特效，稍后删除

特效如果创建而不删除，会导致实体数量超过上限，从而影响到正常的规则功能。本例中，我们让“天使”使用终极技能时，会有伴随着的小星星。当技能使用结束时，则删除这些小星星。

* 事件：持续 - 每名玩家 天使
* 条件：正在使用终极技能(事件玩家) == 真
* 动作：
	* 设置玩家变量(事件玩家, A, 空数组)
	* 创建效果(所有玩家(所有队伍), 火花, 蓝色, 事件玩家, 1.500, 可见，位置和半径)
	* 修改玩家变量(事件玩家, A, 添加至数组, 最后创建的实体)
	* 创建效果(所有玩家(所有队伍), 火花, 红色, 事件玩家, 1.500, 可见，位置和半径)
	* 修改玩家变量(事件玩家, A, 添加至数组, 最后创建的实体)
	* 创建效果(所有玩家(所有队伍), 火花, 黄色, 事件玩家, 1.500, 可见，位置和半径)
	* 修改玩家变量(事件玩家, A, 添加至数组, 最后创建的实体)

删除小星星：
* 事件：持续 - 每名玩家 天使
* 条件：
	* 正在使用终极技能(事件玩家) == 假
	* 玩家变量(事件玩家, A) != 空数组
* 动作：
	* 消除效果(数组中的值(玩家变量(事件玩家, A), 0))
	* 消除效果(数组中的值(玩家变量(事件玩家, A), 1))
	* 消除效果(数组中的值(玩家变量(事件玩家, A), 2))
	* 设置玩家变量(事件玩家, A, 空数组)

本例中创建了三个颜色不同的效果，如果你只有一个效果，则可以不使用数组，更加简单。